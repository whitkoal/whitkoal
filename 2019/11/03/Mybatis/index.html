<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <title>Mybatis | Bruce</title>
  <meta name="keywords" content>
  <meta name="description" content="Mybatis | Bruce">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="为充分理解Java中多线程同步的实现原理，必须先清除JMM。 一、Java内存模型Java Memory Model 是为了处理并发过程中的可见性、原子性、有序性问题的。 在Java虚拟机中，堆是一个线程共享的内存区域。堆中主要存放对象的实例、静态对象、数组等。堆中存放着一些共享变量。 每条线程都会有一个属于自己的本地内存，本地内存不允许其他线程访问。本地内存中存储的是共享变量的副本。 线程A若要">
<meta name="keywords" content="多线程">
<meta property="og:type" content="article">
<meta property="og:title" content="Java中的Volatile和Synchronized有何不同？">
<meta property="og:url" content="http://brucy.cn/2020/01/31/Java中的Volatile和Synchronized有何不同？/index.html">
<meta property="og:site_name" content="Bruce">
<meta property="og:description" content="为充分理解Java中多线程同步的实现原理，必须先清除JMM。 一、Java内存模型Java Memory Model 是为了处理并发过程中的可见性、原子性、有序性问题的。 在Java虚拟机中，堆是一个线程共享的内存区域。堆中主要存放对象的实例、静态对象、数组等。堆中存放着一些共享变量。 每条线程都会有一个属于自己的本地内存，本地内存不允许其他线程访问。本地内存中存储的是共享变量的副本。 线程A若要">
<meta property="og:locale" content="zh-cn">
<meta property="og:image" content="http://brucy.cn/_posts/Java%E4%B8%AD%E7%9A%84Volatile%E5%92%8CSynchronized%E6%9C%89%E4%BD%95%E4%B8%8D%E5%90%8C%EF%BC%9F/JMM.png">
<meta property="og:image" content="http://brucy.cn/Java%E4%B8%AD%E7%9A%84Volatile%E5%92%8CSynchronized%E6%9C%89%E4%BD%95%E4%B8%8D%E5%90%8C%EF%BC%9F/synchronized%E5%8F%8D%E7%BC%96%E8%AF%91.PNg">
<meta property="og:image" content="http://brucy.cn/source/_posts/Java%E4%B8%AD%E7%9A%84Volatile%E5%92%8CSynchronized%E6%9C%89%E4%BD%95%E4%B8%8D%E5%90%8C%EF%BC%9F/synchronized%E5%8E%9F%E7%90%86%E5%9B%BE.png">
<meta property="og:updated_time" content="2020-02-01T02:18:28.489Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Java中的Volatile和Synchronized有何不同？">
<meta name="twitter:description" content="为充分理解Java中多线程同步的实现原理，必须先清除JMM。 一、Java内存模型Java Memory Model 是为了处理并发过程中的可见性、原子性、有序性问题的。 在Java虚拟机中，堆是一个线程共享的内存区域。堆中主要存放对象的实例、静态对象、数组等。堆中存放着一些共享变量。 每条线程都会有一个属于自己的本地内存，本地内存不允许其他线程访问。本地内存中存储的是共享变量的副本。 线程A若要">
<meta name="twitter:image" content="http://brucy.cn/_posts/Java%E4%B8%AD%E7%9A%84Volatile%E5%92%8CSynchronized%E6%9C%89%E4%BD%95%E4%B8%8D%E5%90%8C%EF%BC%9F/JMM.png">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.0.1" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1.0.1" rel="stylesheet">

<link href="//cdn.bootcss.com/animate.css/3.5.2/animate.min.css" rel="stylesheet">
<link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="/js/jquery.autocomplete.min.js?v=1.0.1"></script>

<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>



<script src="//cdn.bootcss.com/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>

<script src="/js/iconfont.js?v=1.0.1"></script>

</head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="false">
  <input class="theme_blog_path" value>
</div>

<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/img/avatar.jpg" />
</a>
<div class="author">
    <span>Bruce</span>
</div>

<div class="icon">
    
        
    
        
        <a title="github" href="https://github.com/whitkoal" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-github"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
        <a title="oschina" href="https://my.oschina.net/yelog" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-oschina"></use>
                </svg>
            
        </a>
        
    
        
    
        
        <a title="email" href="mailto:2233093661@qq.com" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-email"></use>
                </svg>
            
        </a>
        
    
        
        <a title="qq" href="http://wpa.qq.com/msgrd?v=3&uin=2233093661&site=qq&menu=yes" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-qq"></use>
                </svg>
            
        </a>
        
    
        
    
        
        <a title="neteasemusic" href="https://music.163.com/#/user/home?id=88151013" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-neteasemusic"></use>
                </svg>
            
        </a>
        
    
</div>




<ul>
    <li><div class="all active">全部文章<small>(34)</small></div></li>
    
        
            
            <li><div data-rel="技术">技术<small>(8)</small></div>
                
            </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    
    
    
    </div>
    <div><a class="about  hasFriend  site_url"  href="/about">关于</a><a style="width: 50%"  class="friends">友链</a></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="34">

<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="back-title-list"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <form onkeydown="if(event.keyCode === 13){return false;}">
        <input id="local-search-input" class="search" type="text" placeholder="Search..." />
        <i class="cross"></i>
        <span>
            <label for="tagswitch">Tags:</label>
            <input id="tagswitch" type="checkbox" style="display: none" />
            <i id="tagsWitchIcon"></i>
        </span>
    </form>
    <div class="tags-list">
    
    <li class="article-tag-list-item">
        <a class="color1">MySQL</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">MongoDB</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">多线程</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">MyBatis</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">RabbitMQ</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">计算机网络</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">数据结构与算法</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">消息队列</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">设计模式</a>
    </li>
    
    <div class="clearfix"></div>
</div>

    
    <nav id="title-list-nav">
        
        <a  class=""
           href="/2019/11/13/ArrayList源码详解/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="ArrayList源码详解">ArrayList源码详解</span>
            <span class="post-date" title="2019-11-13 21:18:41">2019/11/13</span>
        </a>
        
        <a  class=""
           href="/2019/10/28/ClassLoader/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="ClassLoader">ClassLoader</span>
            <span class="post-date" title="2019-10-28 10:51:51">2019/10/28</span>
        </a>
        
        <a  class=""
           href="/2020/02/06/INNODB是如何实现事务的？/"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="INNODB是如何实现事务的？">INNODB是如何实现事务的？</span>
            <span class="post-date" title="2020-02-06 10:19:34">2020/02/06</span>
        </a>
        
        <a  class=""
           href="/2019/11/08/Java8-Lambda表达式与函数式接口/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Java8-Lambda表达式与函数式接口">Java8-Lambda表达式与函数式接口</span>
            <span class="post-date" title="2019-11-08 14:47:20">2019/11/08</span>
        </a>
        
        <a  class=""
           href="/2019/12/03/MongoDB介绍/"
           data-tag="MongoDB"
           data-author="" >
            <span class="post-title" title="MongoDB介绍">MongoDB介绍</span>
            <span class="post-date" title="2019-12-03 20:42:51">2019/12/03</span>
        </a>
        
        <a  class="技术 "
           href="/2020/01/31/Java中的Volatile和Synchronized有何不同？/"
           data-tag="多线程"
           data-author="" >
            <span class="post-title" title="Java中的Volatile和Synchronized有何不同？">Java中的Volatile和Synchronized有何不同？</span>
            <span class="post-date" title="2020-01-31 22:44:26">2020/01/31</span>
        </a>
        
        <a  class="技术 "
           href="/2019/12/14/MongoDB配置文件部分选项解释/"
           data-tag="MongoDB"
           data-author="" >
            <span class="post-title" title="MongoDB配置文件部分选项解释">MongoDB配置文件部分选项解释</span>
            <span class="post-date" title="2019-12-14 16:51:10">2019/12/14</span>
        </a>
        
        <a  class=""
           href="/2019/11/18/MyBatis数据源与连接池/"
           data-tag="MyBatis"
           data-author="" >
            <span class="post-title" title="MyBatis数据源与连接池">MyBatis数据源与连接池</span>
            <span class="post-date" title="2019-11-18 20:52:56">2019/11/18</span>
        </a>
        
        <a  class=""
           href="/2020/02/06/MySQL各版本对比/"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySQL各版本对比">MySQL各版本对比</span>
            <span class="post-date" title="2020-02-06 10:16:06">2020/02/06</span>
        </a>
        
        <a  class=""
           href="/2020/02/06/MySQL常用的存储引擎/"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySQL常用的存储引擎">MySQL常用的存储引擎</span>
            <span class="post-date" title="2020-02-06 10:18:39">2020/02/06</span>
        </a>
        
        <a  class=""
           href="/2020/02/06/MySQL用户管理/"
           data-tag="MySQL"
           data-author="" >
            <span class="post-title" title="MySQL用户管理">MySQL用户管理</span>
            <span class="post-date" title="2020-02-06 10:17:30">2020/02/06</span>
        </a>
        
        <a  class=""
           href="/2019/10/31/Object类/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Object类">Object类</span>
            <span class="post-date" title="2019-10-31 20:08:51">2019/10/31</span>
        </a>
        
        <a  class="技术 "
           href="/2020/01/18/Ribbon/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Ribbon">Ribbon</span>
            <span class="post-date" title="2020-01-18 07:20:24">2020/01/18</span>
        </a>
        
        <a  class=""
           href="/2019/12/07/RabbitMQ基本概念介绍/"
           data-tag="RabbitMQ"
           data-author="" >
            <span class="post-title" title="RabbitMQ基本概念介绍">RabbitMQ基本概念介绍</span>
            <span class="post-date" title="2019-12-07 20:28:18">2019/12/07</span>
        </a>
        
        <a  class="技术 "
           href="/2019/12/24/Spring-Security-PasswordEncoder/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring-Security-PasswordEncoder">Spring-Security-PasswordEncoder</span>
            <span class="post-date" title="2019-12-24 20:35:12">2019/12/24</span>
        </a>
        
        <a  class=""
           href="/2019/11/17/Spring注解驱动编程/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Spring注解驱动编程">Spring注解驱动编程</span>
            <span class="post-date" title="2019-11-17 10:41:25">2019/11/17</span>
        </a>
        
        <a  class=""
           href="/2019/11/16/TCP三次握手与四次挥手/"
           data-tag="计算机网络"
           data-author="" >
            <span class="post-title" title="TCP三次握手与四次挥手">TCP三次握手与四次挥手</span>
            <span class="post-date" title="2019-11-16 12:59:17">2019/11/16</span>
        </a>
        
        <a  class=""
           href="/2019/10/19/hello-world/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Hello World">Hello World</span>
            <span class="post-date" title="2019-10-19 13:20:27">2019/10/19</span>
        </a>
        
        <a  class=""
           href="/2019/10/26/hexo常用命令/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="hexo常用命令">hexo常用命令</span>
            <span class="post-date" title="2019-10-26 10:57:22">2019/10/26</span>
        </a>
        
        <a  class=""
           href="/2019/10/27/java-反射/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="java-反射">java-反射</span>
            <span class="post-date" title="2019-10-27 17:30:54">2019/10/27</span>
        </a>
        
        <a  class=""
           href="/2019/11/24/使用volatile修饰基本数据内存不能保证原子性/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="使用volatile修饰基本数据内存不能保证原子性">使用volatile修饰基本数据内存不能保证原子性</span>
            <span class="post-date" title="2019-11-24 17:44:23">2019/11/24</span>
        </a>
        
        <a  class="技术 "
           href="/2019/12/09/基础数据结构-01、数组/"
           data-tag="数据结构与算法"
           data-author="" >
            <span class="post-title" title="基础数据结构-01、数组">基础数据结构-01、数组</span>
            <span class="post-date" title="2019-12-09 18:29:47">2019/12/09</span>
        </a>
        
        <a  class="技术 "
           href="/2019/12/10/基础数据结构-02、链表/"
           data-tag="数据结构与算法"
           data-author="" >
            <span class="post-title" title="基础数据结构-02、链表">基础数据结构-02、链表</span>
            <span class="post-date" title="2019-12-10 11:28:14">2019/12/10</span>
        </a>
        
        <a  class=""
           href="/2019/11/16/归并排序（递归）/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="归并排序（递归）">归并排序（递归）</span>
            <span class="post-date" title="2019-11-16 13:03:54">2019/11/16</span>
        </a>
        
        <a  class=""
           href="/2019/12/01/消息队列入门/"
           data-tag="消息队列"
           data-author="" >
            <span class="post-title" title="消息队列入门">消息队列入门</span>
            <span class="post-date" title="2019-12-01 21:42:36">2019/12/01</span>
        </a>
        
        <a  class=""
           href="/2019/11/16/类的执行过程/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="类的执行过程">类的执行过程</span>
            <span class="post-date" title="2019-11-16 12:58:25">2019/11/16</span>
        </a>
        
        <a  class=""
           href="/2019/11/06/设计模式—-创建型模式/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式—-创建型模式">设计模式—-创建型模式</span>
            <span class="post-date" title="2019-11-06 15:26:46">2019/11/06</span>
        </a>
        
        <a  class="技术 "
           href="/2019/12/12/连接远程MongoDB数据库/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="连接远程MongoDB数据库">连接远程MongoDB数据库</span>
            <span class="post-date" title="2019-12-12 10:53:28">2019/12/12</span>
        </a>
        
        <a  class="技术 "
           href="/2019/12/23/MongoDB搭建副本集/"
           data-tag="MongoDB"
           data-author="" >
            <span class="post-title" title="MongoDB搭建副本集">MongoDB搭建副本集</span>
            <span class="post-date" title="2019-12-23 10:50:56">2019/12/23</span>
        </a>
        
        <a  class=""
           href="/2019/11/23/volatile关键字解析/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="volatile关键字解析">volatile关键字解析</span>
            <span class="post-date" title="2019-11-23 20:53:22">2019/11/23</span>
        </a>
        
        <a  class=""
           href="/2019/11/06/设计模式-设计模式的七大原则/"
           data-tag="设计模式"
           data-author="" >
            <span class="post-title" title="设计模式-设计模式的七大原则">设计模式-设计模式的七大原则</span>
            <span class="post-date" title="2019-11-06 09:38:47">2019/11/06</span>
        </a>
        
        <a  class=""
           href="/2019/10/21/ArrayList/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="ArrayList">ArrayList</span>
            <span class="post-date" title="2019-10-21 21:15:37">2019/10/21</span>
        </a>
        
        <a  class=""
           href="/2019/12/03/MongoDB常用语句(一)/"
           data-tag="MongoDB"
           data-author="" >
            <span class="post-title" title="MongoDB常用语句(一)">MongoDB常用语句(一)</span>
            <span class="post-date" title="2019-12-03 20:44:06">2019/12/03</span>
        </a>
        
        <a  class=""
           href="/2019/11/03/Mybatis/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Mybatis">Mybatis</span>
            <span class="post-date" title="2019-11-03 21:42:11">2019/11/03</span>
        </a>
        
    </nav>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div class="post">
    <div class="pjax">
        <article id="post-Mybatis" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">Mybatis</h1>
    
    <div class="article-meta">
        
        
        
        
    </div>
    <div class="article-meta">
        
        创建时间:<time class="date" title='更新时间: 2019-11-04 21:35:30'>2019-11-03 21:42</time>
        
    </div>
    <div class="article-meta">
        
        
        <span id="busuanzi_container_page_pv">
            阅读:<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#What-is-MyBatis"><span class="toc-text">What is MyBatis?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Configuration"><span class="toc-text"> Configuration </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#properties"><span class="toc-text"> properties </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#settings"><span class="toc-text"> settings </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#typeAliases"><span class="toc-text"> typeAliases </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#typeHandlers"><span class="toc-text"> typeHandlers </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Handling-Enums"><span class="toc-text">Handling Enums</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#objectFactory"><span class="toc-text">objectFactory</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#plugins"><span class="toc-text"> plugins </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#environments"><span class="toc-text"> environments </span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#transactionManager"><span class="toc-text"> transactionManager </span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mappers"><span class="toc-text">mappers</span></a></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="What-is-MyBatis"><a href="#What-is-MyBatis" class="headerlink" title="What is MyBatis?"></a>What is MyBatis?</h2><blockquote>
<p>MyBatis is a first class persistence framework with support for custom SQL, stored procedures and advanced mappings. MyBatis eliminates almost all of the JDBC code and manual setting of parameters and retrieval of results. MyBatis can use simple XML or Annotations for configuration and map primitives, Map interfaces and Java POJOs (Plain Old Java Objects) to database records.</p>
</blockquote>
<blockquote>
<p>MyBatis是一个一流的持久性框架，支持自定义SQL、存储过程和高级映射。<br>MyBatis消除了几乎所有的JDBC代码和手动设置参数和检索结果。<br>MyBatis可以使用简单的XML或注释进行配置，并将原语、映射接口和Java pojo(普通的旧Java对象)映射到数据库记录。</p>
</blockquote>
<h2 id="Configuration"><a href="#Configuration" class="headerlink" title=" Configuration "></a><a id="Configuration"> Configuration </a></h2><p>MyBatis Configuration 包含对MyBatis行为有显著影响的设置和属性。 文档的层级结构如下：</p>
<ul>
<li><a href="#Configuration">configuration</a><ul>
<li><a href="#properties">properties</a></li>
<li><a href="#settings">settings</a></li>
<li><a href="#typeAliases">typeAliases</a></li>
<li><a href="#typeHandlers">typeHandlers</a></li>
<li><a href="#objectFactory">objectFactory</a></li>
<li><a href="#plugins">plugins</a></li>
<li><a href="#environments">environments</a><ul>
<li><a href="#environment">environment</a></li>
<li><a href="#transactionManager">transactionManager</a></li>
<li><a href="#dataSource">dataSource</a></li>
</ul>
</li>
<li><a href="#databaseIdProvider">databaseIdProvider</a></li>
<li><a href="#mappers">mappers</a></li>
</ul>
</li>
</ul>
<hr>
<h2 id="properties"><a href="#properties" class="headerlink" title=" properties "></a><a id="properties"> properties </a></h2><p>这些是可外部化的、可替换的属性，可以在典型的Java属性文件实例中配置，也可以通过properties元素的子元素传递。例如：</p>
<pre><code>&lt;properties resource=&quot;org/mybatis/example/config.properties&quot;&gt;
  &lt;property name=&quot;username&quot; value=&quot;dev_user&quot;/&gt;
  &lt;property name=&quot;password&quot; value=&quot;F2Fa3!33TYyg&quot;/&gt;
&lt;/properties&gt;</code></pre><p>然后可以在整个配置文件中使用这些属性来替换需要动态配置的值。例如：</p>
<pre><code>&lt;dataSource type=&quot;POOLED&quot;&gt;
  &lt;property name=&quot;driver&quot; value=&quot;${driver}&quot;/&gt;
  &lt;property name=&quot;url&quot; value=&quot;${url}&quot;/&gt;
  &lt;property name=&quot;username&quot; value=&quot;${username}&quot;/&gt;
  &lt;property name=&quot;password&quot; value=&quot;${password}&quot;/&gt;
&lt;/dataSource&gt;</code></pre><p>本例中的用户名和密码将被properties元素中设置的值替换。driver和url将被替换为在 config.properties 文件中设置的值。这为配置提供了许多选项。</p>
<p>Properties 也可以传递给SqlSessionFactoryBuilder.build()方法，例如：</p>
<pre><code>SqlSessionFactory factory =
  sqlSessionFactoryBuilder.build(reader, props);

// ... or ...

SqlSessionFactory factory =
  new SqlSessionFactoryBuilder.build(reader, environment, props);</code></pre><p>如果一个属性存在于这些位置中的一个以上，MyBatis将按以下顺序加载它们：</p>
<ul>
<li>首先读取 Properties 中指定的 properties 元素,    </li>
<li>第二读取 Properties 从 classpath 加载的资源或url属性的 properties 元素,并覆盖任何已经指定的重复属性,</li>
<li>最后读取作为方法参数传递的属性,并覆盖任何从 properties body 和 resource/url属性加载的 重复属性。</li>
</ul>
<p>因此，优先级最高的属性是那些作为<strong>方法参数传入的属性</strong>，然后是<strong>resource/url属性</strong>，最后是<strong>properties元素主体中指定的属性</strong>。</p>
<p>在 MyBatis 3.4.2 之后，你可以在占位符中指定一个默认值，如下:</p>
<pre><code>&lt;dataSource type=&quot;POOLED&quot;&gt;
  &lt;!-- ... --&gt;
  &lt;property name=&quot;username&quot; value=&quot;${username:ut_user}&quot;/&gt; &lt;!-- 如果“username”属性不存在，用户名将变为“ut_user” --&gt;
&lt;/dataSource&gt;</code></pre><p>此功能在默认情况下是禁用的。如果你在占位符中指定了一个默认值，你应该通过添加一个特殊的属性来启用这个特性，如下所示:</p>
<pre><code>&lt;properties resource=&quot;org/mybatis/example/config.properties&quot;&gt;
  &lt;!-- ... --&gt;
  &lt;property name=&quot;org.apache.ibatis.parsing.PropertyParser.enable-default-value&quot; value=&quot;true&quot;/&gt; &lt;!-- 启用这个特性 --&gt;
&lt;/properties&gt;</code></pre><p><strong>注意</strong>，属性键中的“:”字符(例如db:username)和SQL语句中的三元运算符(例如${tableName  != null ? tableName : ‘global_constants’})将会与默认属性产生冲突。</p>
<p>如果使用其中之一并希望使用默认属性值，则必须通过添加此特殊属性来更改默认值分隔符。</p>
<pre><code>&lt;properties resource=&quot;org/mybatis/example/config.properties&quot;&gt;
  &lt;!-- ... --&gt;
  &lt;property name=&quot;org.apache.ibatis.parsing.PropertyParser.default-value-separator&quot; value=&quot;?:&quot;/&gt; &lt;!-- 更改分隔符的默认值separator --&gt;
&lt;/properties&gt;
&lt;dataSource type=&quot;POOLED&quot;&gt;
  &lt;!-- ... --&gt;
  &lt;property name=&quot;username&quot; value=&quot;${db:username?:ut_user}&quot;/&gt;
&lt;/dataSource&gt;</code></pre><h2 id="settings"><a href="#settings" class="headerlink" title=" settings "></a><a id="settings"> settings </a></h2><p>Setting全局配置，它们修改了MyBatis在运行时的行为方式。下表描述了设置、它们的含义和默认值。</p>
<table>
<thead>
<tr>
<th>Setting</th>
<th>描述</th>
<th>可选项</th>
<th>默认值</th>
</tr>
</thead>
<tbody><tr>
<td>cacheEnabled</td>
<td>配置全局缓存</td>
<td>true / false</td>
<td>true</td>
</tr>
<tr>
<td>lazyLoadingEnabled</td>
<td>延迟加载。对于特定关系，可以使用fetchType属性替换此值。</td>
<td>true 、 false</td>
<td>false</td>
</tr>
</tbody></table>
<p>设置元素完全配置的一个例子如下:</p>
<pre><code>&lt;settings&gt;
  &lt;setting name=&quot;cacheEnabled&quot; value=&quot;true&quot;/&gt;
  &lt;setting name=&quot;lazyLoadingEnabled&quot; value=&quot;true&quot;/&gt;
  &lt;setting name=&quot;multipleResultSetsEnabled&quot; value=&quot;true&quot;/&gt;
  &lt;setting name=&quot;useColumnLabel&quot; value=&quot;true&quot;/&gt;
  &lt;setting name=&quot;useGeneratedKeys&quot; value=&quot;false&quot;/&gt;
  &lt;setting name=&quot;autoMappingBehavior&quot; value=&quot;PARTIAL&quot;/&gt;
  &lt;setting name=&quot;autoMappingUnknownColumnBehavior&quot; value=&quot;WARNING&quot;/&gt;
  &lt;setting name=&quot;defaultExecutorType&quot; value=&quot;SIMPLE&quot;/&gt;
  &lt;setting name=&quot;defaultStatementTimeout&quot; value=&quot;25&quot;/&gt;
  &lt;setting name=&quot;defaultFetchSize&quot; value=&quot;100&quot;/&gt;
  &lt;setting name=&quot;safeRowBoundsEnabled&quot; value=&quot;false&quot;/&gt;
  &lt;setting name=&quot;mapUnderscoreToCamelCase&quot; value=&quot;false&quot;/&gt;
  &lt;setting name=&quot;localCacheScope&quot; value=&quot;SESSION&quot;/&gt;
  &lt;setting name=&quot;jdbcTypeForNull&quot; value=&quot;OTHER&quot;/&gt;
  &lt;setting name=&quot;lazyLoadTriggerMethods&quot;
    value=&quot;equals,clone,hashCode,toString&quot;/&gt;
&lt;/settings&gt;</code></pre><h2 id="typeAliases"><a href="#typeAliases" class="headerlink" title=" typeAliases "></a><a id="typeAliases"> typeAliases </a></h2><p>类型别名是Java类型的短名称。它只与XML配置相关，它的存在只是为了减少完全限定类名的冗余类型化。 例如:</p>
<pre><code>&lt;typeAliases&gt;
  &lt;typeAlias alias=&quot;Author&quot; type=&quot;domain.blog.Author&quot;/&gt;
  &lt;typeAlias alias=&quot;Blog&quot; type=&quot;domain.blog.Blog&quot;/&gt;
  &lt;typeAlias alias=&quot;Comment&quot; type=&quot;domain.blog.Comment&quot;/&gt;
  &lt;typeAlias alias=&quot;Post&quot; type=&quot;domain.blog.Post&quot;/&gt;
  &lt;typeAlias alias=&quot;Section&quot; type=&quot;domain.blog.Section&quot;/&gt;
  &lt;typeAlias alias=&quot;Tag&quot; type=&quot;domain.blog.Tag&quot;/&gt;
&lt;/typeAliases&gt;</code></pre><p>别名可以全局使用。<br>您还可以指定一个包，MyBatis将在其中搜索bean。例如:</p>
<pre><code>&lt;typeAliases&gt;
  &lt;package name=&quot;domain.blog&quot;/&gt;
&lt;/typeAliases&gt;</code></pre><p>在domain.blog中找到的任何bean，如果没有找到任何注解，将使用bean的非大写限定类名注册为别名。这是domain.blog。domain.blog.Author 将被注册为author。如果找到@Alias注释，它的值会用作别名。请看下面的例子:</p>
<pre><code>@Alias(&quot;author&quot;)
public class Author {
    ...
}</code></pre><p>常见Java类型有许多内置的类型别名。它们都不区分大小写，请注意由于重载名称而对原语的特殊处理。</p>
<table>
<thead>
<tr>
<th>Alias</th>
<th>Mapped Type</th>
<th>Alias</th>
<th>Mapped Type</th>
<th>Alias</th>
<th>Mapped Type</th>
<th>Alias</th>
<th>Mapped Type</th>
</tr>
</thead>
<tbody><tr>
<td>_byte</td>
<td>byte</td>
<td>_long</td>
<td>long</td>
<td>_short</td>
<td>short</td>
<td>_int</td>
<td>int</td>
</tr>
<tr>
<td>_integer</td>
<td>int</td>
<td>_double</td>
<td>double</td>
<td>_float</td>
<td>float</td>
<td>_boolean</td>
<td>boolean</td>
</tr>
<tr>
<td>string</td>
<td>String</td>
<td>byte</td>
<td>Byte</td>
<td>long</td>
<td>Long</td>
<td>short</td>
<td>Short</td>
</tr>
<tr>
<td>int</td>
<td>Integer</td>
<td>integer</td>
<td>Integer</td>
<td>double</td>
<td>Double</td>
<td>float</td>
<td>Float</td>
</tr>
<tr>
<td>boolean</td>
<td>Boolean</td>
<td>date</td>
<td>Date</td>
<td>decimal</td>
<td>BigDecimal</td>
<td>bigdecimal</td>
<td>BigDecimal</td>
</tr>
<tr>
<td>object</td>
<td>Object</td>
<td>map</td>
<td>Map</td>
<td>hashmap</td>
<td>HashMap</td>
<td>list</td>
<td>List</td>
</tr>
<tr>
<td>arraylist</td>
<td>ArrayList</td>
<td>collection</td>
<td>Collection</td>
<td>iterator</td>
<td>Iterator</td>
<td></td>
<td></td>
</tr>
<tr>
<td>—</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id="typeHandlers"><a href="#typeHandlers" class="headerlink" title=" typeHandlers "></a><a id="typeHandlers"> typeHandlers </a></h2><p>每当MyBatis在PreparedStatement上设置一个参数或从ResultSet检索一个值时，都会使用一个<strong>类型处理器</strong>以适合Java类型的方式检索该值。Java类型与数据库类型之间的映射，即JavaType与jdbcType之间的映射。下表描述了默认的TypeHandlers。</p>
<p>注意:从3.4.5版开始，MyBatis默认支持JSR-310(日期和时间API)。</p>
<table>
<thead>
<tr>
<th>Type Handler</th>
<th>Java Types</th>
<th>JDBC Types</th>
</tr>
</thead>
<tbody><tr>
<td>BooleanTypeHandler</td>
<td>java.lang.Boolean, boolean</td>
<td>Any compatible BOOLEAN</td>
</tr>
<tr>
<td>ByteTypeHandler</td>
<td>java.lang.Byte, byte</td>
<td>Any compatible NUMERIC or BYTE</td>
</tr>
<tr>
<td>ShortTypeHandler</td>
<td>java.lang.Short, short</td>
<td>Any compatible NUMERIC or SMALLINT</td>
</tr>
<tr>
<td>IntegerTypeHandler</td>
<td>java.lang.Integer, int</td>
<td>Any compatible NUMERIC or INTEGER</td>
</tr>
<tr>
<td>LongTypeHandler</td>
<td>java.lang.Long, long</td>
<td>Any compatible NUMERIC or BIGINT</td>
</tr>
<tr>
<td>FloatTypeHandler</td>
<td>java.lang.Float, float</td>
<td>Any compatible NUMERIC or FLOAT</td>
</tr>
<tr>
<td>DoubleTypeHandler</td>
<td>java.lang.Double, double</td>
<td>Any compatible NUMERIC or DOUBLE</td>
</tr>
<tr>
<td>BigDecimalTypeHandler</td>
<td>java.math.BigDecimal</td>
<td>Any compatible NUMERIC or DECIMAL</td>
</tr>
<tr>
<td>StringTypeHandler</td>
<td>java.lang.String</td>
<td>CHAR, VARCHAR</td>
</tr>
<tr>
<td>ClobReaderTypeHandler</td>
<td>java.io.Reader</td>
<td>-</td>
</tr>
<tr>
<td>ClobTypeHandler</td>
<td>java.lang.String</td>
<td>CLOB, LONGVARCHAR</td>
</tr>
<tr>
<td>NStringTypeHandler</td>
<td>java.lang.String</td>
<td>NVARCHAR, NCHAR</td>
</tr>
<tr>
<td>NClobTypeHandler</td>
<td>java.lang.String</td>
<td>NCLOB</td>
</tr>
<tr>
<td>BlobInputStreamTypeHandler</td>
<td>java.io.InputStream</td>
<td>-</td>
</tr>
<tr>
<td>ByteArrayTypeHandler</td>
<td>byte[]</td>
<td>Any compatible byte stream type</td>
</tr>
<tr>
<td>BlobTypeHandler</td>
<td>byte[]</td>
<td>BLOB, LONGVARBINARY</td>
</tr>
<tr>
<td>DateTypeHandler</td>
<td>java.util.Date</td>
<td>TIMESTAMP</td>
</tr>
<tr>
<td>DateOnlyTypeHandler</td>
<td>java.util.Date</td>
<td>DATE</td>
</tr>
<tr>
<td>TimeOnlyTypeHandler</td>
<td>java.util.Date</td>
<td>mestamp</td>
</tr>
<tr>
<td>SqlDateTypeHandler</td>
<td>java.sql.Date</td>
<td>DATE</td>
</tr>
<tr>
<td>SqlTimeTypeHandler</td>
<td>java.sql.Time</td>
<td>TIME</td>
</tr>
<tr>
<td>ObjectTypeHandler</td>
<td>Any</td>
<td>OTHER, or unspecified</td>
</tr>
<tr>
<td>EnumTypeHandler</td>
<td>Enumeration Type</td>
<td>VARCHAR any string compatible type, as the code is stored (not index).</td>
</tr>
<tr>
<td>EnumOrdinalTypeHandler</td>
<td>Enumeration Type</td>
<td>Any compatible NUMERIC or DOUBLE, as the position is stored (not the code itself).</td>
</tr>
<tr>
<td>SqlxmlTypeHandler</td>
<td>java.lang.String</td>
<td>SQLXML</td>
</tr>
<tr>
<td>InstantTypeHandler</td>
<td>java.time.Instant</td>
<td>TIMESTAMP</td>
</tr>
<tr>
<td>LocalDateTimeTypeHandler</td>
<td>java.time.LocalDateTime</td>
<td>TIMESTAMP</td>
</tr>
<tr>
<td>LocalDateTypeHandler</td>
<td>java.time.LocalDate</td>
<td>DATE</td>
</tr>
<tr>
<td>LocalTimeTypeHandler</td>
<td>java.time.LocalTime</td>
<td>TIME</td>
</tr>
<tr>
<td>OffsetDateTimeTypeHandler</td>
<td>java.time.OffsetDateTime</td>
<td>TIMESTAMP</td>
</tr>
<tr>
<td>OffsetTimeTypeHandler</td>
<td>java.time.OffsetTime</td>
<td>TIME</td>
</tr>
<tr>
<td>ZonedDateTimeTypeHandler</td>
<td>java.time.ZonedDateTime</td>
<td>TIMESTAMP</td>
</tr>
<tr>
<td>YearTypeHandler</td>
<td>java.time.Year</td>
<td>INTEGER</td>
</tr>
<tr>
<td>MonthTypeHandler</td>
<td>java.time.Month</td>
<td>INTEGER</td>
</tr>
<tr>
<td>YearMonthTypeHandler</td>
<td>java.time.YearMonth</td>
<td>VARCHAR or LONGVARCHAR</td>
</tr>
<tr>
<td>JapaneseDateTypeHandler</td>
<td>java.time.chrono.JapaneseDate</td>
<td>DATE</td>
</tr>
</tbody></table>
<p>您可以覆盖TypeHandler，也可以创建自己的TypeHandler来处理不受支持的或非标准的类型。为此，请<strong>实现接口org.apache.ibatis.type.TypeHandler</strong>或<strong>扩展类org.apache.ibatis.type.BaseTypeHandler</strong>并可选地将其映射到JDBC类型。例如:</p>
<pre><code>// ExampleTypeHandler.java
@MappedJdbcTypes(JdbcType.VARCHAR)
public class ExampleTypeHandler extends BaseTypeHandler&lt;String&gt; {

  @Override
  public void setNonNullParameter(PreparedStatement ps, int i,
    String parameter, JdbcType jdbcType) throws SQLException {
    ps.setString(i, parameter);
  }

  @Override
  public String getNullableResult(ResultSet rs, String columnName)
    throws SQLException {
    return rs.getString(columnName);
  }

  @Override
  public String getNullableResult(ResultSet rs, int columnIndex)
    throws SQLException {
    return rs.getString(columnIndex);
  }

  @Override
  public String getNullableResult(CallableStatement cs, int columnIndex)
    throws SQLException {
    return cs.getString(columnIndex);
  }
}</code></pre><pre><code>&lt;!-- mybatis-config.xml --&gt;
&lt;typeHandlers&gt;
  &lt;typeHandler handler=&quot;org.mybatis.example.ExampleTypeHandler&quot;/&gt;
&lt;/typeHandlers&gt;</code></pre><p>使用这样的TypeHandler将覆盖现有的用于Java字符串属性、VARCHAR参数和查询结果的TypeHandler。<br>请注意，MyBatis不内省数据库元数据来确定类型，因此必须在参数和结果映射中指定VARCHAR字段，以便在正确的类型处理程序中进行hook。这是因为在执行语句之前MyBatis并不知道数据类型。<br>Using such a TypeHandler would override the existing type handler for Java String properties and VARCHAR parameters and results.</p>
<p>Note that MyBatis does not introspect upon the database metadata to determine the type, so you must specify that it’s a VARCHAR field in the parameter and result mappings to hook in the correct type handler. This is due to the fact that MyBatis is unaware of the data type until the statement is executed.</p>
<p>MyBatis将通过自省它的泛型类型来知道你想用这个类型处理器处理的Java类型，但是你可以通过两种方式来覆盖这个行为:<br>MyBatis will know the Java type that you want to handle with this TypeHandler by introspecting its generic type, but you can override this behavior by two means:</p>
<ul>
<li>向typeHandler元素添加javaType属性(例如:javaType=”String”)</li>
<li>向TypeHandler类添加<strong>@MappedTypes</strong>注解，以指定与其关联的Java类型列表。如果已经指定了javaType属性，则该注释将被忽略。</li>
</ul>
<p>关联的JDBC类型可以通过两种方式指定:</p>
<ul>
<li>向typeHandler元素添加jdbcType属性（例如：jdbcType =“ VARCHAR”）。</li>
<li>将<strong>@MappedJdbcTypes</strong>注解添加到TypeHandler类中，以指定与其关联的JDBC类型列表。如果已经指定了jdbcType属性，则将忽略此注解</li>
</ul>
<p>在决定要在ResultMap中使用哪种TypeHandler时，Java类型是已知的（从结果类型中），但是JDBC类型是未知的。因此，MyBatis使用组合 javaType = [TheJavaType]，jdbcType = null来选择TypeHandler。这意味着，使用@MappedJdbcTypes注解会限制TypeHandler的范围，除非明确设置，否则无法在ResultMap中使用。为了使可用于在使用一个类型处理器的ResultMap，设置includeNullJdbcType = true 的@MappedJdbcTypes注释。<br>由于MyBatis的3.4.0但是，如果单 类型处理器被注册为处理Java类型，它会被默认使用的ResultMap S使用该Java类型（即，即使没有includeNullJdbcType = TRUE）。<br>When deciding which TypeHandler to use in a ResultMap, the Java type is known (from the result type), but the JDBC type is unknown. MyBatis therefore uses the combination javaType=[TheJavaType], jdbcType=null to choose a TypeHandler. This means that using a @MappedJdbcTypes annotation restricts the scope of a TypeHandler and makes it unavailable for use in ResultMaps unless explicity set. To make a TypeHandler available for use in a ResultMap, set includeNullJdbcType=true on the @MappedJdbcTypes annotation.<br>Since Mybatis 3.4.0 however, if a single TypeHandler is registered to handle a Java type, it will be used by default in ResultMaps using this Java type (i.e. even without includeNullJdbcType=true).</p>
<p>And finally you can let MyBatis search for your TypeHandlers:</p>
<pre><code>&lt;!-- mybatis-config.xml --&gt;
&lt;typeHandlers&gt;
  &lt;package name=&quot;org.mybatis.example&quot;/&gt;
&lt;/typeHandlers&gt;</code></pre><p>Note that when using the autodiscovery feature JDBC types can only be specified with annotations.</p>
<p>You can create a generic TypeHandler that is able to handle more than one class. For that purpose add a constructor that receives the class as a parameter and MyBatis will pass the actual class when constructing the TypeHandler.</p>
<pre><code>//GenericTypeHandler.java
public class GenericTypeHandler&lt;E extends MyObject&gt; extends BaseTypeHandler&lt;E&gt; {

  private Class&lt;E&gt; type;

  public GenericTypeHandler(Class&lt;E&gt; type) {
    if (type == null) throw new IllegalArgumentException(&quot;Type argument cannot be null&quot;);
    this.type = type;
  }
  ...</code></pre><p>EnumTypeHandler和EnumOrdinalTypeHandler是通用TypeHandler。</p>
<h2 id="Handling-Enums"><a href="#Handling-Enums" class="headerlink" title="Handling Enums"></a>Handling Enums</h2><p>如果要映射Enum，则需要使用 EnumTypeHandler或EnumOrdinalTypeHandler。</p>
<p>注意EnumTypeHandler的特殊之处在于，它与其他处理程序不同，它不仅处理一个特定的类，而且还处理任何扩展Enum的类。<br>Note EnumTypeHandler is special in the sense that unlike other handlers, it does not handle just one specific class, but any class that extends Enum<br>However, we may not want to store names. Our DBA may insist on an integer code instead. That’s just as easy: add EnumOrdinalTypeHandler to the typeHandlers in your config file, and now each RoundingMode will be mapped to an integer using its ordinal value.</p>
<pre><code>&lt;!-- mybatis-config.xml --&gt;
&lt;typeHandlers&gt;
  &lt;typeHandler handler=&quot;org.apache.ibatis.type.EnumOrdinalTypeHandler&quot;
    javaType=&quot;java.math.RoundingMode&quot;/&gt;
&lt;/typeHandlers&gt;</code></pre><p>But what if you want to map the same Enum to a string in one place and to integer in another?</p>
<p>The auto-mapper will automatically use EnumOrdinalTypeHandler, so if we want to go back to using plain old ordinary EnumTypeHandler, we have to tell it, by explicitly setting the type handler to use for those SQL statements.</p>
<p>(Mapper files aren’t covered until the next section, so if this is your first time reading through the documentation, you may want to skip this for now and come back to it later.)</p>
<pre><code>&lt;!DOCTYPE mapper
    PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;
    &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;

&lt;mapper namespace=&quot;org.apache.ibatis.submitted.rounding.Mapper&quot;&gt;
    &lt;resultMap type=&quot;org.apache.ibatis.submitted.rounding.User&quot; id=&quot;usermap&quot;&gt;
        &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;
        &lt;result column=&quot;name&quot; property=&quot;name&quot;/&gt;
        &lt;result column=&quot;funkyNumber&quot; property=&quot;funkyNumber&quot;/&gt;
        &lt;result column=&quot;roundingMode&quot; property=&quot;roundingMode&quot;/&gt;
    &lt;/resultMap&gt;

    &lt;select id=&quot;getUser&quot; resultMap=&quot;usermap&quot;&gt;
        select * from users
    &lt;/select&gt;
    &lt;insert id=&quot;insert&quot;&gt;
        insert into users (id, name, funkyNumber, roundingMode) values (
            #{id}, #{name}, #{funkyNumber}, #{roundingMode}
        )
    &lt;/insert&gt;

    &lt;resultMap type=&quot;org.apache.ibatis.submitted.rounding.User&quot; id=&quot;usermap2&quot;&gt;
        &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;
        &lt;result column=&quot;name&quot; property=&quot;name&quot;/&gt;
        &lt;result column=&quot;funkyNumber&quot; property=&quot;funkyNumber&quot;/&gt;
        &lt;result column=&quot;roundingMode&quot; property=&quot;roundingMode&quot;
         typeHandler=&quot;org.apache.ibatis.type.EnumTypeHandler&quot;/&gt;
    &lt;/resultMap&gt;
    &lt;select id=&quot;getUser2&quot; resultMap=&quot;usermap2&quot;&gt;
        select * from users2
    &lt;/select&gt;
    &lt;insert id=&quot;insert2&quot;&gt;
        insert into users2 (id, name, funkyNumber, roundingMode) values (
            #{id}, #{name}, #{funkyNumber}, #{roundingMode, typeHandler=org.apache.ibatis.type.EnumTypeHandler}
        )
    &lt;/insert&gt;

&lt;/mapper&gt;</code></pre><p>Note that this forces us to use a resultMap instead of a resultType in our select statements.</p>
<h2 id="objectFactory"><a href="#objectFactory" class="headerlink" title="objectFactory"></a>objectFactory</h2><p>MyBatis每次都会使用ObjectFactory实例来创建result对象实例。默认的 ObjectFactory 除了使用默认的构造函数实例化目标类外，如果存在参数映射，则使用参数化的构造函数实例化目标类。如果要覆盖ObjectFactory的默认行为，则可以创建自己的行为。例如：</p>
<pre><code>// ExampleObjectFactory.java
public class ExampleObjectFactory extends DefaultObjectFactory {
  @Override
  public &lt;T&gt; T create(Class&lt;T&gt; type) {
    return super.create(type);
  }

  @Override
  public &lt;T&gt; T create(Class&lt;T&gt; type, List&lt;Class&lt;?&gt;&gt; constructorArgTypes, List&lt;Object&gt; constructorArgs) {
    return super.create(type, constructorArgTypes, constructorArgs);
  }

  @Override
  public void setProperties(Properties properties) {
    super.setProperties(properties);
  }

  @Override
  public &lt;T&gt; boolean isCollection(Class&lt;T&gt; type) {
    return Collection.class.isAssignableFrom(type);
  }}</code></pre><pre><code>&lt;!-- mybatis-config.xml --&gt;
&lt;objectFactory type=&quot;org.mybatis.example.ExampleObjectFactory&quot;&gt;
  &lt;property name=&quot;someProperty&quot; value=&quot;100&quot;/&gt;
&lt;/objectFactory&gt;</code></pre><p>ObjectFactory接口非常简单。<br>它包含两种创建方法，一种用于处理默认构造函数，另一种用于处理参数化构造函数。最后，可以使用setProperties方法配置ObjectFactory。在初始化ObjectFactory实例后，把在ObjectFactory的主体内定义的属性 传递给setProperties方法。</p>
<h2 id="plugins"><a href="#plugins" class="headerlink" title=" plugins "></a><a id="plugins"> plugins </a></h2><p>MyBatis允许您在映射语句的执行过程中的某些点拦截调用。默认情况下，MyBatis允许插件拦截以下方法的调用：</p>
<ul>
<li>Executor (update, query, flushStatements, commit, rollback, getTransaction, close, isClosed)</li>
<li>ParameterHandler (getParameterObject, setParameters)</li>
<li>ResultSetHandler (handleResultSets, handleOutputParameters)</li>
<li>StatementHandler (prepare, parameterize, batch, update, query)</li>
</ul>
<p>如果尝试修改或覆盖给定方法的行为，则很可能会破坏MyBatis的核心。这些是底层的类和方法，因此请谨慎使用插件。<br>，使用插件非常简单。只需实现Interceptor接口，并指定要拦截的标志即可。</p>
<pre><code>// ExamplePlugin.java
@Intercepts({@Signature(
  type= Executor.class,
  method = &quot;update&quot;,
  args = {MappedStatement.class,Object.class})})
public class ExamplePlugin implements Interceptor {
  private Properties properties = new Properties();

  @Override
  public Object intercept(Invocation invocation) throws Throwable {
    // implement pre-processing if needed
    Object returnObject = invocation.proceed();
    // implement post-processing if needed
    return returnObject;
  }

  @Override
  public void setProperties(Properties properties) {
    this.properties = properties;
  }
}</code></pre><pre><code>&lt;!-- mybatis-config.xml --&gt;
&lt;plugins&gt;
  &lt;plugin interceptor=&quot;org.mybatis.example.ExamplePlugin&quot;&gt;
    &lt;property name=&quot;someProperty&quot; value=&quot;100&quot;/&gt;
  &lt;/plugin&gt;
&lt;/plugins&gt;</code></pre><p>上面的插件将拦截Executor实例上对“ update”方法的所有调用。<br>注意覆盖配置类<br>除了使用插件修改MyBatis核心行为外，您还可以完全覆盖Configuration类。只需对其进行扩展并覆盖其中的任何方法，然后将其传递给SqlSessionFactoryBuilder.build（myConfig）方法的调用即可 。这可能会对MyBatis的行为产生严重影响，因此请谨慎使用。</p>
<h2 id="environments"><a href="#environments" class="headerlink" title=" environments "></a><a id="environments"> environments </a></h2><p>MyBatis可以配置多个环境。<br>这有助于您将SQL映射应用到多个数据库。<br>例如，您的开发、测试和生产环境可能有不同的配置。<br>或者，您可能有多个共享相同模式的生产数据库，您希望对这两个数据库使用相同的SQL映射。</p>
<p><strong>虽然您可以配置多个环境，但是您只能为每个SqlSessionFactory实例选择一个</strong>。</p>
<p>因此，如果希望连接两个数据库，需要创建两个SqlSessionFactory实例。对于三个数据库，您需要三个实例。</p>
<p>每个数据库一个SqlSessionFactory实例来指定要构建的环境，只需将SqlSessionFactory实例作为一个可选参数传递给SqlSessionFactoryBuilder即可。<br>接受环境的两个签名是:</p>
<pre><code>SqlSessionFactory factory = new SqlSessionFactoryBuilder().build(reader, environment);
SqlSessionFactory factory = new SqlSessionFactoryBuilder().build(reader, environment, properties);</code></pre><p>如果省略环境，则加载默认环境，如下所示:</p>
<pre><code>SqlSessionFactory factory = new SqlSessionFactoryBuilder().build(reader);
SqlSessionFactory factory = new SqlSessionFactoryBuilder().build(reader, properties);</code></pre><p>environments 配置如下：</p>
<pre><code>&lt;environments default=&quot;development&quot;&gt;
  &lt;environment id=&quot;development&quot;&gt;
    &lt;transactionManager type=&quot;JDBC&quot;&gt;
      &lt;property name=&quot;...&quot; value=&quot;...&quot;/&gt;
    &lt;/transactionManager&gt;
    &lt;dataSource type=&quot;POOLED&quot;&gt;
      &lt;property name=&quot;driver&quot; value=&quot;${driver}&quot;/&gt;
      &lt;property name=&quot;url&quot; value=&quot;${url}&quot;/&gt;
      &lt;property name=&quot;username&quot; value=&quot;${username}&quot;/&gt;
      &lt;property name=&quot;password&quot; value=&quot;${password}&quot;/&gt;
    &lt;/dataSource&gt;
  &lt;/environment&gt;
&lt;/environments&gt;</code></pre><p>注意这里的关键部分:</p>
<ul>
<li><strong>默认环境 ID (e.g. default=”development”)</strong></li>
<li><strong>environment 的 ID (e.g. id=”development”)</strong> </li>
<li><strong>TransactionManager(事务管理器)配置 (e.g. type=”JDBC”)</strong></li>
<li><strong>DataSource  数据源配置 (e.g. type=”POOLED”)</strong></li>
</ul>
<p>您可以随意命名 environment ID ，只要确保默认与其中一个匹配即可。</p>
<h3 id="transactionManager"><a href="#transactionManager" class="headerlink" title=" transactionManager "></a><a id="transactionManager"> transactionManager </a></h3><p>在MyBatis中有两种TransactionManager类型(即type=”[JDBC|MANAGED]”)</p>
<blockquote>
<p>JDBC – 此配置只是直接使用JDBC提交和回滚功能。</p>
</blockquote>
<blockquote>
<p>MANAGED – 这种配置几乎什么都不做。它从不提交或回滚连接。它让容器管理事务的整个生命周期(例如：JEE Application Server context)。<br>默认情况下，它会关闭连接。<br>但是，有些容器不希望这样，因此，如果不希望关闭连接，请将“closeConnection”属性设置为false。</p>
</blockquote>
<p>例如 :</p>
<pre><code>&lt;transactionManager type=&quot;MANAGED&quot;&gt;
  &lt;property name=&quot;closeConnection&quot; value=&quot;false&quot;/&gt;
&lt;/transactionManager&gt;</code></pre><p>注意，如果您计划在Spring中使用MyBatis，那么不需要配置任何TransactionManager，因为Spring模块将设置自己的一个TransactionManager，覆盖以前设置的任何配置。</p>
<p>NOTE If you are planning to use MyBatis with Spring there is no need to configure any TransactionManager because the Spring module will set its own one overriding any previously set configuration.</p>
<p>Neither of these TransactionManager types require any properties. However, they are both Type Aliases, so in other words, instead of using them, you could put your own fully qualified class name or Type Alias that refers to your own implementation of the TransactionFactory interface.</p>
<p>public interface TransactionFactory {<br>  default void setProperties(Properties props) { // Since 3.5.2, change to default method<br>    // NOP<br>  }<br>  Transaction newTransaction(Connection conn);<br>  Transaction newTransaction(DataSource dataSource, TransactionIsolationLevel level, boolean autoCommit);<br>}<br>Any properties configured in the XML will be passed to the setProperties() method after instantiation. Your implementation would also need to create a Transaction implementation, which is also a very simple interface:</p>
<p>public interface Transaction {<br>  Connection getConnection() throws SQLException;<br>  void commit() throws SQLException;<br>  void rollback() throws SQLException;<br>  void close() throws SQLException;<br>  Integer getTimeout() throws SQLException;<br>}<br>Using these two interfaces, you can completely customize how MyBatis deals with Transactions.</p>
<p>dataSource</p>
<p>The dataSource element configures the source of JDBC Connection objects using the standard JDBC DataSource interface.</p>
<p>Most MyBatis applications will configure a dataSource as in the example. However, it’s not required. Realize though, that to facilitate Lazy Loading, this dataSource is required.</p>
<p>There are three built-in dataSource types (i.e. type=”[UNPOOLED|POOLED|JNDI]”):</p>
<p>UNPOOLED – This implementation of DataSource simply opens and closes a connection each time it is requested. While it’s a bit slower, this is a good choice for simple applications that do not require the performance of immediately available connections. Different databases are also different in this performance area, so for some it may be less important to pool and this configuration will be ideal. The UNPOOLED DataSource has the following properties to configure:</p>
<p>driver – This is the fully qualified Java class of the JDBC driver (NOT of the DataSource class if your driver includes one).<br>url – This is the JDBC URL for your database instance.<br>username – The database username to log in with.<br>password - The database password to log in with.<br>defaultTransactionIsolationLevel – The default transaction isolation level for connections.<br>defaultNetworkTimeout – The default network timeout value in milliseconds to wait for the database operation to complete. See the API documentation of java.sql.Connection#setNetworkTimeout() for details.<br>Optionally, you can pass properties to the database driver as well. To do this, prefix the properties with driver., for example:</p>
<p>driver.encoding=UTF8<br>This will pass the property encoding, with the value UTF8, to your database driver via the DriverManager.getConnection(url, driverProperties) method.</p>
<p>POOLED – This implementation of DataSource pools JDBC Connection objects to avoid the initial connection and authentication time required to create a new Connection instance. This is a popular approach for concurrent web applications to achieve the fastest response.</p>
<p>In addition to the (UNPOOLED) properties above, there are many more properties that can be used to configure the POOLED datasource:</p>
<p>poolMaximumActiveConnections – This is the number of active (i.e. in use) connections that can exist at any given time. Default: 10<br>poolMaximumIdleConnections – The number of idle connections that can exist at any given time.<br>poolMaximumCheckoutTime – This is the amount of time that a Connection can be “checked out” of the pool before it will be forcefully returned. Default: 20000ms (i.e. 20 seconds)<br>poolTimeToWait – This is a low level setting that gives the pool a chance to print a log status and re-attempt the acquisition of a connection in the case that it’s taking unusually long (to avoid failing silently forever if the pool is misconfigured). Default: 20000ms (i.e. 20 seconds)<br>poolMaximumLocalBadConnectionTolerance – This is a low level setting about tolerance of bad connections got for any thread. If a thread got a bad connection, it may still have another chance to re-attempt to get another connection which is valid. But the retrying times should not more than the sum of poolMaximumIdleConnections and poolMaximumLocalBadConnectionTolerance. Default: 3 (Since: 3.4.5)<br>poolPingQuery – The Ping Query is sent to the database to validate that a connection is in good working order and is ready to accept requests. The default is “NO PING QUERY SET”, which will cause most database drivers to fail with a decent error message.<br>poolPingEnabled – This enables or disables the ping query. If enabled, you must also set the poolPingQuery property with a valid SQL statement (preferably a very fast one). Default: false.<br>poolPingConnectionsNotUsedFor – This configures how often the poolPingQuery will be used. This can be set to match the typical timeout for a database connection, to avoid unnecessary pings. Default: 0 (i.e. all connections are pinged every time – but only if poolPingEnabled is true of course).<br>JNDI – This implementation of DataSource is intended for use with containers such as EJB or Application Servers that may configure the DataSource centrally or externally and place a reference to it in a JNDI context. This DataSource configuration only requires two properties:</p>
<p>initial_context – This property is used for the Context lookup from the InitialContext (i.e. initialContext.lookup(initial_context)). This property is optional, and if omitted, then the data_source property will be looked up against the InitialContext directly.<br>data_source – This is the context path where the reference to the instance of the DataSource can be found. It will be looked up against the context returned by the initial_context lookup, or against the InitialContext directly if no initial_context is supplied.<br>Similar to the other DataSource configurations, it’s possible to send properties directly to the InitialContext by prefixing those properties with env., for example:</p>
<p>env.encoding=UTF8<br>This would send the property encoding with the value of UTF8 to the constructor of the InitialContext upon instantiation.</p>
<p>You can plug any 3rd party DataSource by implementing the interface org.apache.ibatis.datasource.DataSourceFactory:</p>
<p>public interface DataSourceFactory {<br>  void setProperties(Properties props);<br>  DataSource getDataSource();<br>}<br>org.apache.ibatis.datasource.unpooled.UnpooledDataSourceFactory can be used as super class to build new datasource adapters. For example this is the code needed to plug C3P0:</p>
<p>import org.apache.ibatis.datasource.unpooled.UnpooledDataSourceFactory;<br>import com.mchange.v2.c3p0.ComboPooledDataSource;</p>
<p>public class C3P0DataSourceFactory extends UnpooledDataSourceFactory {</p>
<p>  public C3P0DataSourceFactory() {<br>    this.dataSource = new ComboPooledDataSource();<br>  }<br>}<br>To set it up, add a property for each setter method you want MyBatis to call. Follows below a sample configuration which connects to a PostgreSQL database:</p>
<datasource type="org.myproject.C3P0DataSourceFactory">
  <property name="driver" value="org.postgresql.Driver">
  <property name="url" value="jdbc:postgresql:mydb">
  <property name="username" value="postgres">
  <property name="password" value="root">
</property></property></property></property></datasource>
databaseIdProvider
MyBatis is able to execute different statements depending on your database vendor. The multi-db vendor support is based on the mapped statements databaseId attribute. MyBatis will load all statements with no databaseId attribute or with a databaseId that matches the current one. In case the same statement is found with and without the databaseId the latter will be discarded. To enable the multi vendor support add a databaseIdProvider to mybatis-config.xml file as follows:

<databaseidprovider type="DB_VENDOR">
The DB_VENDOR implementation databaseIdProvider sets as databaseId the String returned by DatabaseMetaData#getDatabaseProductName(). Given that usually that string is too long and that different versions of the same product may return different values, you may want to convert it to a shorter one by adding properties like follows:

<databaseidprovider type="DB_VENDOR">
  <property name="SQL Server" value="sqlserver">
  <property name="DB2" value="db2">
  <property name="Oracle" value="oracle">
</property></property></property></databaseidprovider>
When properties are provided, the DB_VENDOR databaseIdProvider will search the property value corresponding to the first key found in the returned database product name or "null" if there is not a matching property. In this case, if getDatabaseProductName() returns "Oracle (DataDirect)" the databaseId will be set to "oracle".

<p>You can build your own DatabaseIdProvider by implementing the interface org.apache.ibatis.mapping.DatabaseIdProvider and registering it in mybatis-config.xml:</p>
<pre><code>public interface DatabaseIdProvider {
  default void setProperties(Properties p) { // Since 3.5.2, changed to default method
    // NOP
  }
  String getDatabaseId(DataSource dataSource) throws SQLException;
}</code></pre><h2 id="mappers"><a href="#mappers" class="headerlink" title="mappers"></a>mappers</h2><p>Now that the behavior of MyBatis is configured with the above configuration elements, we’re ready to define our mapped SQL statements. But first, we need to tell MyBatis where to find them. Java doesn’t really provide any good means of auto-discovery in this regard, so the best way to do it is to simply tell MyBatis where to find the mapping files. You can use classpath relative resource references, fully qualified url references (including file:/// URLs), class names or package names. For example:</p>
<pre><code>&lt;!-- Using classpath relative resources --&gt;
&lt;mappers&gt;
  &lt;mapper resource=&quot;org/mybatis/builder/AuthorMapper.xml&quot;/&gt;
  &lt;mapper resource=&quot;org/mybatis/builder/BlogMapper.xml&quot;/&gt;
  &lt;mapper resource=&quot;org/mybatis/builder/PostMapper.xml&quot;/&gt;
&lt;/mappers&gt;</code></pre><pre><code>&lt;!-- Using url fully qualified paths --&gt;
&lt;mappers&gt;
  &lt;mapper url=&quot;file:///var/mappers/AuthorMapper.xml&quot;/&gt;
  &lt;mapper url=&quot;file:///var/mappers/BlogMapper.xml&quot;/&gt;
  &lt;mapper url=&quot;file:///var/mappers/PostMapper.xml&quot;/&gt;
&lt;/mappers&gt;
</code></pre><pre><code>&lt;!-- Using mapper interface classes --&gt;
&lt;mappers&gt;
  &lt;mapper class=&quot;org.mybatis.builder.AuthorMapper&quot;/&gt;
  &lt;mapper class=&quot;org.mybatis.builder.BlogMapper&quot;/&gt;
  &lt;mapper class=&quot;org.mybatis.builder.PostMapper&quot;/&gt;
&lt;/mappers&gt;</code></pre><pre><code>&lt;!-- Register all interfaces in a package as mappers --&gt;
&lt;mappers&gt;
  &lt;package name=&quot;org.mybatis.builder&quot;/&gt;
&lt;/mappers&gt;</code></pre><p>These statement simply tell MyBatis where to go from here. The rest of the details are in each of the SQL Mapping files, and that’s exactly what the next section will discuss.</p>
</databaseidprovider>
      
       <hr><span style="font-style: italic;color: gray;"> 转载请注明来源，欢迎对文章中的引用来源进行考证，欢迎指出任何有错误或不够清晰的表达。可以在下面评论区评论，也可以邮件至 jaytp@qq.com </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">赏</a>
</p>


<div class="article_copyright">
    <p><span class="copy-title">文章标题:</span>Mybatis</p>
    
    <p><span class="copy-title">本文作者:</span><a  title="Bruce">Bruce</a></p>
    <p><span class="copy-title">发布时间:</span>2019-11-03, 21:42:11</p>
    <p><span class="copy-title">最后更新:</span>2019-11-04, 21:35:30</p>
    <span class="copy-title">原始链接:</span><a class="post-url" href="/2019/11/03/Mybatis/" title="Mybatis">http://brucy.cn/2019/11/03/Mybatis/</a>
    <p>
        <span class="copy-title">版权声明:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target = "_blank">"署名-非商用-相同方式共享 4.0"</a> 转载请保留原文链接及作者。
    </p>
</div>





    




    </div>
    <div class="copyright">
        <p class="footer-entry">©2016-2019 Yelog</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full"><span class="min "></span></button>
<button class="post-toc-menu"><span class="post-toc-menu-icons"></span></button>
<div class="post-toc"><span class="post-toc-title">目录</span>
    <div class="post-toc-content">

    </div>
</div>
<a class="" id="rocket" ></a>

    </div>
</div>
<div class="acParent"></div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>喜欢就点赞,疼爱就打赏</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="扫码支持">
            <img src="/img/weixin.jpg" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">支付宝</label></span><span><label><input type="radio" name="pay" value="weixin">微信</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.0.1" ></script>

<script src="/js/script.js?v=1.0.1" ></script>
<script>
    var img_resize = 'default';
    /*作者、标签的自动补全*/
    $(function () {
        $('.search').AutoComplete({
            'data': ['#MySQL','#MongoDB','#多线程','#MyBatis','#RabbitMQ','#计算机网络','#数据结构与算法','#消息队列','#设计模式',],
            'itemHeight': 20,
            'width': 418
        }).AutoComplete('show');
    })
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $(".post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        
        $('pre code').each(function(){
            var lines = $(this).text().split('\n').length - 1, widther='';
            if (lines>99) {
                widther = 'widther'
            }
            var $numbering = $('<ul/>').addClass('pre-numbering ' + widther).attr("unselectable","on");
            $(this).addClass('has-numbering ' + widther)
                    .parent()
                    .append($numbering);
            for(var i=1;i<=lines;i++){
                $numbering.append($('<li/>').text(i));
            }
        });
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<style>
    pre{
        position: relative;
        margin-bottom: 24px;
        border-radius: 10px;
        border: 1px solid #e2dede;
        background: #FFF;
        overflow: hidden;
    }
    code.has-numbering{
        margin-left: 30px;
    }
    code.has-numbering.widther{
        margin-left: 35px;
    }
    .pre-numbering{
        margin: 0px;
        position: absolute;
        top: 0;
        left: 0;
        width: 20px;
        padding: 0.5em 3px 0.7em 5px;
        border-right: 1px solid #C3CCD0;
        text-align: right;
        color: #AAA;
        background-color: #fafafa;
    }
    .pre-numbering.widther {
        width: 35px;
    }
</style>

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
        .nav .hide-list.fullscreen {
            left: 492px
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    
    .post .pjax article .article-entry>ol, .post .pjax article .article-entry>ul, .post .pjax article>ol, .post .pjax article>ul{
        border: #e2dede solid 1px;
        border-radius: 10px;
        padding: 10px 32px 10px 56px;
    }
    .post .pjax article .article-entry li>ol, .post .pjax article .article-entry li>ul,.post .pjax article li>ol, .post .pjax article li>ul{
        padding-top: 5px;
        padding-bottom: 5px;
    }
    .post .pjax article .article-entry>ol>li, .post .pjax article .article-entry>ul>li,.post .pjax article>ol>li, .post .pjax article>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    .post .pjax article .article-entry li>ol>li, .post .pjax article .article-entry li>ul>li,.post .pjax article li>ol>li, .post .pjax article li>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    
    .nav-right:before {
        content: ' ';
        display: block;
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        opacity: 0.3;
        background: url("https://i.loli.net/2019/07/22/5d3521411f3f169375.png");
        background-repeat: no-repeat;
        background-position: 50% 0;
        -ms-background-size: cover;
        -o-background-size: cover;
        -moz-background-size: cover;
        -webkit-background-size: cover;
        background-size: cover;
    }
    

    
</style>







</html>
